(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{"87No":function(n,t,e){"use strict";e.r(t),e.d(t,"default",(function(){return x}));for(var o=e("dI71"),i=e("q1tI"),a=e.n(i),r=e("z0FI"),s=(e("PF2M"),e("IZzc"),e("j+VE"),e("675W")),u=e("yIe6"),f=e("1MEA"),c=e("ebS/"),l=e("kh/P"),v={vs:{glsl:"#version 300 es\n#define SHADER_NAME cube-vs\n\nuniform uniforms {\n  mat4 modelViewProjectionMatrix[16];\n};\n\nlayout(location=0) in vec3 position;\nlayout(location=1) in vec2 uv;\n\nout vec2 fragUV;\nout vec4 fragPosition;\n\nvoid main() {\n  gl_Position = modelViewProjectionMatrix[gl_InstanceID] * vec4(position, 1.0);\n  fragUV = uv;\n  fragPosition = vec4(position, 1.);\n}\n    ",wgsl:"\nstruct Uniforms {\n  modelViewProjectionMatrix : [[stride(64)]] array<mat4x4<f32>, 16>;\n};\n\n[[binding(0), group(0)]] var<uniform> uniforms : Uniforms;\n\nstruct VertexOutput {\n  [[builtin(position)]] Position : vec4<f32>;\n  [[location(0)]] fragUV : vec2<f32>;\n  [[location(1)]] fragPosition: vec4<f32>;\n};\n\n[[stage(vertex)]]\nfn main([[builtin(instance_index)]] instanceIdx : u32,\n        [[location(0)]] position : vec4<f32>,\n        [[location(1)]] uv : vec2<f32>) -> VertexOutput {\n  var output : VertexOutput;\n  output.Position = uniforms.modelViewProjectionMatrix[instanceIdx] * position;\n  output.fragUV = uv;\n  output.fragPosition = 0.5 * (position + vec4<f32>(1.0, 1.0, 1.0, 1.0));\n  return output;\n}\n    "},fs:{glsl:"#version 300 es\n#define SHADER_NAME cube-fs\nprecision highp float;\nin vec2 fragUV;\nin vec4 fragPosition;\n\nlayout (location=0) out vec4 fragColor;\n\nvoid main() {\n  fragColor = fragPosition;\n}\n    ",wgsl:"\n[[stage(fragment)]]\nfn main([[location(0)]] fragUV: vec2<f32>,\n        [[location(1)]] fragPosition: vec4<f32>) -> [[location(0)]] vec4<f32> {\n  return fragPosition;\n}\n    "}},p={attributes:[{name:"position",location:0,format:"float32x4"},{name:"uv",location:1,format:"float32x2"}],bindings:[{name:"uniforms",location:0,type:"uniform"}]},m={depthWriteEnabled:!0,depthCompare:"less",depthFormat:"depth24plus",cullMode:"back"},d=function(n){function t(t){var e,o=t.device;e=n.call(this)||this;var i=new u.a({indices:!1}),a=o.createBuffer({id:"cube-positions",data:i.attributes.POSITION.value}),r=o.createBuffer({id:"cube-uvs",data:i.attributes.TEXCOORD_0.value});return e.uniformBuffer=o.createBuffer({id:"uniforms",usage:s.a.UNIFORM|s.a.COPY_DST,byteLength:1024}),e.cubeModel=new f.a(o,{id:"cube",vs:v.vs,fs:v.fs,topology:"triangle-list",layout:p,attributes:{position:a,uv:r},bindings:{uniforms:e.uniformBuffer},vertexCount:i.vertexCount,instanceCount:16,parameters:m}),e}return Object(o.a)(t,n),t.prototype.frame=function(n){var t=n.device,e=new l.a,o=t.canvasContext.getAspect(),i=Date.now()/1e3;e.perspective({fov:2*Math.PI/5,aspect:o,near:1,far:100});var a=function(n,t){for(var e=(new l.a).translate([0,0,-12]),o=new l.a,i=0,a=0,r=0;r<4;r++)for(var s=0;s<4;s++)o.copy(g[i]).rotateAxis(1,[Math.sin((r+.5)*t),Math.cos((s+.5)*t),0]).multiplyLeft(e).multiplyLeft(n),h.set(o,a),i++,a+=16;return h}(e,i);this.uniformBuffer.write(a),this.cubeModel.draw(),t.submit()},t}(c.a),g=[],b=0;b<4;b++)for(var w=0;w<4;w++)g.push((new l.a).translate([4*(b-2+.5),4*(w-2+.5),0]));var h=new Float32Array(256);globalThis.website||c.a.run(d,{canvas:"canvas"}).start();var x=function(n){function t(){return n.apply(this,arguments)||this}return Object(o.a)(t,n),t.prototype.render=function(){var n=this.props.pageContext,t=n&&n.exampleConfig||{};return a.a.createElement(r.a,{AnimationLoop:d,exampleConfig:t})},t}(a.a.Component)}}]);