(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{XhCi:function(e,n,t){"use strict";t.r(n),t.d(n,"default",(function(){return h}));var o=t("dI71"),r=t("q1tI"),i=t.n(r),a=t("z0FI"),u=t("rePB"),s=t("fgUk"),c=t("yIe6"),p=t("1MEA"),l=t("ebS/"),v=t("tdDb"),m=t("IA9D"),b=t("kh/P"),d=t("yeNo");function f(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,o)}return t}function g(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?f(Object(t),!0).forEach((function(n){Object(u.a)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):f(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var y=function(e){function n(n,t){return e.call(this,n,g(g({},t),{},{geometry:new c.a,fs:"precision highp float;\n\nuniform samplerCube uTextureCube;\nvarying vec3 vPosition;\n\nvoid main(void) {\n  // The outer cube just samples the texture cube directly\n  gl_FragColor = textureCube(uTextureCube, normalize(vPosition));\n}\n",vs:"attribute vec3 positions;\n\nuniform mat4 uModel;\nuniform mat4 uView;\nuniform mat4 uProjection;\n\nvarying vec3 vPosition;\n\nvoid main(void) {\n  gl_Position = uProjection * uView * uModel * vec4(positions, 1.0);\n  vPosition = positions;\n}\n"}))||this}return Object(o.a)(n,e),n}(p.a),P=function(e){function n(n,t){return e.call(this,n,g(g({},t),{},{geometry:new c.a,vs:"attribute vec3 positions;\nattribute vec3 normals;\nattribute vec2 texCoords;\n\nuniform mat4 uModel;\nuniform mat4 uView;\nuniform mat4 uProjection;\n\nvarying vec3 vPosition;\nvarying vec3 vNormal;\nvarying vec2 vUV;\n\nvoid main(void) {\n  gl_Position = uProjection * uView * uModel * vec4(positions, 1.0);\n  vPosition = vec3(uModel * vec4(positions,1));\n  vNormal = vec3(uModel * vec4(normals, 0));\n  vUV = texCoords;\n}\n",fs:"precision highp float;\n\nuniform sampler2D uTexture;\nuniform samplerCube uTextureCube;\nuniform vec3 uEyePosition;\n\nvarying vec3 vPosition;\nvarying vec3 vNormal;\nvarying vec2 vUV;\n\nvoid main(void) {\n  vec4 color = texture2D(uTexture, vec2(vUV.x, 1.0 - vUV.y));\n  vec3 reflectedDir = reflect(normalize(vPosition - uEyePosition), vNormal);\n  vec4 reflectedColor = textureCube(uTextureCube, reflectedDir);\n\n  gl_FragColor = color * reflectedColor;\n}\n"}))||this}return Object(o.a)(n,e),n}(p.a),E=function(e){function n(n){var t,o,r=n.device;o=e.call(this)||this;var i=r.createTexture({dimension:"cube",mipmaps:!0,data:(t={},t[m.a.TEXTURE_CUBE_MAP_POSITIVE_X]=Object(s.a)("sky-posx.png"),t[m.a.TEXTURE_CUBE_MAP_NEGATIVE_X]=Object(s.a)("sky-negx.png"),t[m.a.TEXTURE_CUBE_MAP_POSITIVE_Y]=Object(s.a)("sky-posy.png"),t[m.a.TEXTURE_CUBE_MAP_NEGATIVE_Y]=Object(s.a)("sky-negy.png"),t[m.a.TEXTURE_CUBE_MAP_POSITIVE_Z]=Object(s.a)("sky-posz.png"),t[m.a.TEXTURE_CUBE_MAP_NEGATIVE_Z]=Object(s.a)("sky-negz.png"),t)}),a=r.createTexture({data:"vis-logo.png",mipmaps:!0,sampler:{magFilter:"linear",minFilter:"linear",mipmapFilter:"nearest"}});return o.cube=new y(r,{bindings:{uTextureCube:i},uniforms:{uModel:(new b.a).scale([20,20,20])},parameters:{depthWriteEnabled:!0,depthCompare:"less-equal"}}),o.prism=new P(r,{bindings:{uTexture:a,uTextureCube:i},parameters:{depthWriteEnabled:!0,depthCompare:"less-equal"}}),o}Object(o.a)(n,e);var t=n.prototype;return t.onFinalize=function(){this.prism.destroy(),this.cube.destroy()},t.onRender=function(e){var n=e.device,t=e.aspect,o=e.tick,r=[5,-3,5],i=(new b.a).lookAt({eye:r}),a=(new b.a).perspective({fov:Object(d.e)(75),aspect:t});Object(v.q)(n,{color:[0,0,0,1],depth:!0}),this.cube.setUniforms({uView:i,uProjection:a}),this.cube.draw(),this.prism.setUniforms({uEyePosition:r,uView:i,uProjection:a,uModel:(new b.a).rotateX(.01*o).rotateY(.013*o)}),this.prism.draw()},n}(l.a);E.info="\n<p>\nUses a luma.gl <code>TextureCube</code> to simulate a reflective\nsurface\n</p>\n","undefined"==typeof window||window.website||l.a.run(E);var h=function(e){function n(){return e.apply(this,arguments)||this}return Object(o.a)(n,e),n.prototype.render=function(){return i.a.createElement(a.a,{AnimationLoop:E,exampleConfig:this.props.pageContext.exampleConfig})},n}(i.a.Component)}}]);