(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{R2Rt:function(t,n,e){"use strict";e.r(n),e.d(n,"default",(function(){return g}));var o=e("dI71"),i=e("q1tI"),r=e.n(i),a=e("z0FI"),s=(e("PF2M"),e("IZzc"),e("j+VE"),e("675W")),u=e("yIe6"),f=e("1MEA"),c=e("ebS/"),l=e("kh/P"),p={vs:{glsl:"#version 300 es\n#define SHADER_NAME cube-vs\n\nuniform uniforms {\n  mat4 modelViewProjectionMatrix;\n};\n\nlayout(location=0) in vec3 position;\nlayout(location=1) in vec2 uv;\n\nout vec2 fragUV;\nout vec4 fragPosition;\n\nvoid main() {\n  gl_Position = modelViewProjectionMatrix * vec4(position, 1.0);\n  fragUV = uv;\n  fragPosition = vec4(position, 1.);\n}\n    ",wgsl:"\nstruct Uniforms {\n  modelViewProjectionMatrix : mat4x4<f32>;\n};\n[[binding(0), group(0)]] var<uniform> uniforms : Uniforms;\n\nstruct VertexOutput {\n  [[builtin(position)]] Position : vec4<f32>;\n  [[location(0)]] fragUV : vec2<f32>;\n  [[location(1)]] fragPosition: vec4<f32>;\n};\n\n[[stage(vertex)]]\nfn main([[location(0)]] position : vec4<f32>,\n        [[location(1)]] uv : vec2<f32>) -> VertexOutput {\n  var output : VertexOutput;\n  output.Position = uniforms.modelViewProjectionMatrix * position;\n  output.fragUV = uv;\n  output.fragPosition = 0.5 * (position + vec4<f32>(1.0, 1.0, 1.0, 1.0));\n  return output;\n}\n        "},fs:{glsl:"#version 300 es\n#define SHADER_NAME cube-fs\nprecision highp float;\nin vec2 fragUV;\nin vec4 fragPosition;\n\nlayout (location=0) out vec4 fragColor;\n\nvoid main() {\n  fragColor = fragPosition;\n}\n    ",wgsl:"\n[[stage(fragment)]]\nfn main([[location(0)]] fragUV: vec2<f32>,\n        [[location(1)]] fragPosition: vec4<f32>) -> [[location(0)]] vec4<f32> {\n  return fragPosition;\n}\n        "}},v={attributes:[{name:"position",location:0,format:"float32x4"},{name:"uv",location:1,format:"float32x2"}],bindings:[{name:"uniforms",location:0,type:"uniform"}]},m={depthWriteEnabled:!0,depthCompare:"less",depthFormat:"depth24plus",cullMode:"back"},d=function(t){function n(n){var e,o=n.device;e=t.call(this)||this;var i=new u.a({indices:!1}),r=o.createBuffer({id:"cube-positions",data:i.attributes.POSITION.value}),a=o.createBuffer({id:"cube-uvs",data:i.attributes.TEXCOORD_0.value});return e.cubeModel=new f.a(o,{id:"cube",vs:p.vs,fs:p.fs,topology:"triangle-list",layout:v,attributes:{position:r,uv:a},vertexCount:i.vertexCount,parameters:m}),e.uniformBuffer1=o.createBuffer({id:"uniforms-1",usage:s.a.UNIFORM|s.a.COPY_DST,byteLength:64}),e.uniformBuffer2=o.createBuffer({id:"uniforms-2",usage:s.a.UNIFORM|s.a.COPY_DST,byteLength:64}),e}Object(o.a)(n,t);var e=n.prototype;return e.destroy=function(){this.cubeModel.destroy(),this.uniformBuffer1.destroy(),this.uniformBuffer2.destroy()},e.frame=function(t){var n=t.device,e=new l.a,o=new l.a,i=new l.a,r=n.canvasContext.getAspect(),a=Date.now()/1e3;e.perspective({fov:2*Math.PI/5,aspect:r,near:1,far:100}),o.identity().translate([-2,0,-7]).rotateAxis(1,[Math.sin(a),Math.cos(a),0]),i.copy(o).multiplyLeft(e),this.uniformBuffer1.write(new Float32Array(i)),o.identity().translate([2,0,-7]).rotateAxis(1,[Math.cos(a),Math.sin(a),0]),i.copy(o).multiplyLeft(e),this.uniformBuffer2.write(new Float32Array(i)),this.cubeModel.setBindings({uniforms:this.uniformBuffer1}),this.cubeModel.draw(),this.cubeModel.setBindings({uniforms:this.uniformBuffer2}),this.cubeModel.draw(),n.submit()},n}(c.a);globalThis.website||c.a.run(d,{type:"webgpu",canvas:"canvas"}).start();var g=function(t){function n(){return t.apply(this,arguments)||this}return Object(o.a)(n,t),n.prototype.render=function(){var t=this.props.pageContext,n=t&&t.exampleConfig||{};return r.a.createElement(a.a,{AnimationLoop:d,exampleConfig:n})},n}(r.a.Component)}}]);