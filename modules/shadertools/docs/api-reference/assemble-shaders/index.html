<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><meta name="generator" content="Gatsby 2.32.13"/><title data-react-helmet="true">Shader Assembly | luma.gl</title><link data-react-helmet="true" rel="stylesheet" href="/style.css" type="text/css"/><link data-react-helmet="true" rel="icon" type="img/ico" href="favicon.ico"/><meta data-react-helmet="true" name="description" content="High-performance GPU Rendering and Compute Toolkit"/><meta data-react-helmet="true" name="image" content="https://luma.gl/images/hero.png"/><meta data-react-helmet="true" property="og:url" content="https://luma.gl/*"/><meta data-react-helmet="true" property="og:type" content="article"/><meta data-react-helmet="true" property="og:title" content="luma.gl | Shader Assembly"/><meta data-react-helmet="true" property="og:description" content="High-performance GPU Rendering and Compute Toolkit"/><meta data-react-helmet="true" property="og:image" content="https://luma.gl/images/hero.png"/><meta data-react-helmet="true" property="fb:app_id" content=""/><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"/><meta data-react-helmet="true" name="twitter:creator" content=""/><meta data-react-helmet="true" name="twitter:title" content="luma.gl | Shader Assembly"/><meta data-react-helmet="true" name="twitter:description" content="High-performance GPU Rendering and Compute Toolkit"/><meta data-react-helmet="true" name="twitter:image" content="https://luma.gl/images/hero.png"/><script data-react-helmet="true" type="application/ld+json">[{"@context":"http://schema.org","@type":"WebSite","url":"https://luma.gl","name":"luma.gl"},[{"@context":"http://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"item":{"@id":"https://luma.gl/*","name":"luma.gl | Shader Assembly","image":"https://luma.gl/images/hero.png"}}]},{"@context":"http://schema.org","@type":"BlogPosting","url":"https://luma.gl","name":"luma.gl | Shader Assembly","headline":"luma.gl | Shader Assembly","image":{"@type":"ImageObject","url":"https://luma.gl/images/hero.png"},"description":"High-performance GPU Rendering and Compute Toolkit"}]]</script><script data-react-helmet="true" async="" src="https://www.googletagmanager.com/gtag/js?id=UA-74374017-2"></script><style data-styled="hYEoHZ kTxBVF cgWSVV jPuMoh fBOuaF fvAQnU ljtECw fseOIT rnYJU fshRCI jPCeQk effWma kBeVvn jHvzTX bFgSUa flAsfN jIHaHd gtJHRF ZoTUq iTIrjR dMTgn dvhuEd kocNpP iEykyL ePRhQs hsOfQe kVRSNy cbLAEX jYCwIr bnjLCb dFYdBi jVcpav" data-styled-version="4.4.1">
/* sc-component-id: body__BodyContainerToC-sc-lvm4v2-1 */
.ZoTUq{height:100%;width:100%;padding:64px 0 0 300px;} @media screen and (max-width:768px){.ZoTUq{height:calc(100vh - 64px);padding:0;-webkit-order:2;-ms-flex-order:2;order:2;}}
/* sc-component-id: body__Body-sc-lvm4v2-3 */
.hYEoHZ{font:normal 14px/20px UberMove,Helvetica,Arial,sans-serif;width:100vw;height:100vh;}
/* sc-component-id: toc__TocChevron-sc-c2gnov-0 */
.ljtECw{height:16px;width:16px;position:absolute;left:24px;top:20px;-webkit-transform:rotate(-90deg);-ms-transform:rotate(-90deg);transform:rotate(-90deg);-webkit-transition:-webkit-transform 0.3s;-webkit-transition:transform 0.3s;transition:transform 0.3s;}.fseOIT{height:16px;width:16px;position:absolute;left:24px;top:20px;-webkit-transform:none;-ms-transform:none;transform:none;-webkit-transition:-webkit-transform 0.3s;-webkit-transition:transform 0.3s;transition:transform 0.3s;}.rnYJU{height:16px;width:16px;position:absolute;left:36px;top:20px;-webkit-transform:rotate(-90deg);-ms-transform:rotate(-90deg);transform:rotate(-90deg);-webkit-transition:-webkit-transform 0.3s;-webkit-transition:transform 0.3s;transition:transform 0.3s;}.fshRCI{height:16px;width:16px;position:absolute;left:36px;top:20px;-webkit-transform:none;-ms-transform:none;transform:none;-webkit-transition:-webkit-transform 0.3s;-webkit-transition:transform 0.3s;transition:transform 0.3s;}
/* sc-component-id: toc__TocEntry-sc-c2gnov-1 */
.jPuMoh{font:bold 14px/20px UberMove,Helvetica,Arial,sans-serif;border-top:1px solid tranparent;color:#1f192c;cursor:pointer;margin:-0.5px 0;position:relative;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;}.fBOuaF{font:bold 14px/20px UberMove,Helvetica,Arial,sans-serif;border-top:1px solid tranparent;color:#4f4868;cursor:pointer;margin:-0.5px 0;position:relative;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;}.fvAQnU{font:bold 14px/20px UberMove,Helvetica,Arial,sans-serif;border-top:1px solid #e4e1f0;color:#1f192c;cursor:pointer;margin:-0.5px 0;position:relative;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;}
/* sc-component-id: toc__TocHeader-sc-c2gnov-2 */
.jPCeQk{display:block;padding:16px 16px 16px 48px;} .jPCeQk:hover{background:#f7f7fc;}.effWma{display:block;padding:16px 16px 16px 60px;} .effWma:hover{background:#f7f7fc;}
/* sc-component-id: toc__TocLink-sc-c2gnov-3 */
.flAsfN a{display:block;padding:16px 16px 16px 60px;color:#4f4868 !important;-webkit-text-decoration:none;text-decoration:none;} .flAsfN:hover{background:#f7f7fc;}.jIHaHd a{display:block;padding:16px 16px 16px 72px;color:#4f4868 !important;-webkit-text-decoration:none;text-decoration:none;} .jIHaHd:hover{background:#f7f7fc;}.gtJHRF a{display:block;padding:16px 16px 16px 72px;color:#00ADE6 !important;-webkit-text-decoration:none;text-decoration:none;} .gtJHRF:hover{background:#f7f7fc;}
/* sc-component-id: toc__TocSubpages-sc-c2gnov-4 */
.kBeVvn{list-style:none;margin:0;max-height:0px;overflow:hidden;padding:0;-webkit-transition:max-height 0.3s;transition:max-height 0.3s;}.jHvzTX{list-style:none;margin:0;max-height:504px;overflow:hidden;padding:0;-webkit-transition:max-height 0.3s;transition:max-height 0.3s;}.bFgSUa{list-style:none;margin:0;max-height:168px;overflow:hidden;padding:0;-webkit-transition:max-height 0.3s;transition:max-height 0.3s;}
/* sc-component-id: toc__TocContainer-sc-c2gnov-5 */
.cgWSVV{position:fixed;top:0;padding:64px 0;max-width:300px;height:100%;z-index:2;border-right:1px solid #cecae0;overflow-y:auto;overflow-x:hidden;width:100%;} @media screen and (max-width:768px){.cgWSVV{max-width:100%;height:initial;border-right:none;position:-webkit-sticky;position:sticky;padding:0;-webkit-transition:opacity 0.3s,-webkit-transform 0.3s;-webkit-transition:opacity 0.3s,transform 0.3s;transition:opacity 0.3s,transform 0.3s;opacity:0;max-height:0;overflow:hidden;-webkit-transform:translateY(30px);-ms-transform:translateY(30px);transform:translateY(30px);}}
/* sc-component-id: header__HeaderContainer-sc-3r2dxq-1 */
.kTxBVF{grid-column:1/3;grid-row:1/2;} @media screen and (max-width:768px){.kTxBVF{-webkit-order:1;-ms-flex-order:1;order:1;}}
/* sc-component-id: sc-global-1046557666 */
body{margin:0;overflow-x:hidden;-webkit-text-size-adjust:100%;} *{box-sizing:border-box;}
/* sc-component-id: typography__A-sc-1pmaksm-0 */
.dvhuEd{-webkit-text-decoration:none;text-decoration:none;color:#00ADE6;} .dvhuEd:visited{color:#174EB6;} .dvhuEd:active{color:#123D90;} .dvhuEd:hover{color:#123D90;}
/* sc-component-id: typography__H1-sc-1pmaksm-2 */
.dMTgn{font:bold 40px/56px UberMove,Helvetica,Arial,sans-serif;-webkit-letter-spacing:0.02em;-moz-letter-spacing:0.02em;-ms-letter-spacing:0.02em;letter-spacing:0.02em;margin:4px 0 24px;}
/* sc-component-id: typography__H2-sc-1pmaksm-3 */
.jYCwIr{font:bold 32px/48px UberMove,Helvetica,Arial,sans-serif;margin:24px 0 16px;}
/* sc-component-id: typography__H3-sc-1pmaksm-4 */
.ePRhQs{font:bold 24px/36px UberMove,Helvetica,Arial,sans-serif;}
/* sc-component-id: typography__P-sc-1pmaksm-8 */
.kocNpP{margin:'0 0 16px';}
/* sc-component-id: typography__List-sc-1pmaksm-9 */
.hsOfQe{margin:0 0 12px;}
/* sc-component-id: typography__ListItem-sc-1pmaksm-10 */
.kVRSNy{margin-bottom:4px;}
/* sc-component-id: typography__MarkdownBody-sc-1pmaksm-11 */
.iTIrjR{font:normal 14px/20px UberMove,Helvetica,Arial,sans-serif;padding:36px;max-width:692px;}
/* sc-component-id: typography__InlineCode-sc-1pmaksm-12 */
.iEykyL{background-color:#f7f7fc;border-radius:4px;padding:0 5px;font-family:Consolas,Menlo,Monaco,'Andale Mono WT','Andale Mono','Lucida Console','Lucida Sans Typewriter','DejaVu Sans Mono','Bitstream Vera Sans Mono','Liberation Mono','Nimbus Mono L','Courier New',Courier,monospace;font-size:0.9em;margin:1px 0;line-height:calc(1.5em / 0.9 - 2px);display:inline-block;vertical-align:top;}
/* sc-component-id: typography__Pre-sc-1pmaksm-14 */
.cbLAEX{font-size:14px;background-color:#f7f7fc;padding:6px;overflow-x:auto;} .cbLAEX .token.comment,.cbLAEX .token.prolog,.cbLAEX .token.doctype,.cbLAEX .token.cdata{color:slategray;} .cbLAEX .token.punctuation{color:#999;} .cbLAEX .token.namespace{opacity:0.7;} .cbLAEX .token.property,.cbLAEX .token.tag,.cbLAEX .token.boolean,.cbLAEX .token.number,.cbLAEX .token.constant,.cbLAEX .token.symbol,.cbLAEX .token.deleted{color:#905;} .cbLAEX .token.selector,.cbLAEX .token.attr-name,.cbLAEX .token.string,.cbLAEX .token.char,.cbLAEX .token.builtin,.cbLAEX .token.inserted{color:#690;} .cbLAEX .token.operator,.cbLAEX .token.entity,.cbLAEX .token.url,.cbLAEX .language-css .token.string,.cbLAEX .style .token.string{color:#9a6e3a;background:hsla(0,0%,100%,0.5);} .cbLAEX .token.atrule,.cbLAEX .token.attr-value,.cbLAEX .token.keyword{color:#07a;} .cbLAEX .token.function,.cbLAEX .token.class-name{color:#dd4a68;} .cbLAEX .token.regex,.cbLAEX .token.important,.cbLAEX .token.variable{color:#e90;} .cbLAEX .token.important,.cbLAEX .token.bold{font-weight:bold;} .cbLAEX .token.italic{font-style:italic;} .cbLAEX .token.entity{cursor:help;}
/* sc-component-id: typography__Table-sc-1pmaksm-17 */
.bnjLCb{border-collapse:collapse;border-spacing:1px;width:100%;}
/* sc-component-id: typography__TableHeaderCell-sc-1pmaksm-18 */
.dFYdBi{padding:4px;text-align:left;background:#f7f7fc;font-weight:bold;border:1px solid #e4e1f0;}
/* sc-component-id: typography__TableBodyCell-sc-1pmaksm-19 */
.jVcpav{padding:4px;text-align:left;border:1px solid #e4e1f0;}</style><style type="text/css">
    .anchor.before {
      position: absolute;
      top: 0;
      left: 0;
      transform: translateX(-100%);
      padding-right: 4px;
    }
    .anchor.after {
      display: inline-block;
      padding-left: 4px;
    }
    h1 .anchor svg,
    h2 .anchor svg,
    h3 .anchor svg,
    h4 .anchor svg,
    h5 .anchor svg,
    h6 .anchor svg {
      visibility: hidden;
    }
    h1:hover .anchor svg,
    h2:hover .anchor svg,
    h3:hover .anchor svg,
    h4:hover .anchor svg,
    h5:hover .anchor svg,
    h6:hover .anchor svg,
    h1 .anchor:focus svg,
    h2 .anchor:focus svg,
    h3 .anchor:focus svg,
    h4 .anchor:focus svg,
    h5 .anchor:focus svg,
    h6 .anchor:focus svg {
      visibility: visible;
    }
  </style><script>
    document.addEventListener("DOMContentLoaded", function(event) {
      var hash = window.decodeURI(location.hash.replace('#', ''))
      if (hash !== '') {
        var element = document.getElementById(hash)
        if (element) {
          var scrollTop = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop
          var clientTop = document.documentElement.clientTop || document.body.clientTop || 0
          var offset = element.getBoundingClientRect().top + scrollTop - clientTop
          // Wait for the browser to finish rendering before scrolling.
          setTimeout((function() {
            window.scrollTo(0, offset - 64)
          }), 0)
        }
      }
    })
  </script><link as="script" rel="preload" href="/webpack-runtime-87611aef1024319f882c.js"/><link as="script" rel="preload" href="/framework-ea8763a7f7b1250eb736.js"/><link as="script" rel="preload" href="/app-ee2e44ed3aba76c7f5db.js"/><link as="script" rel="preload" href="/component---node-modules-gatsby-theme-ocular-src-react-templates-documentation-jsx-73bab6605a023601ea84.js"/><link as="fetch" rel="preload" href="/page-data/modules/shadertools/docs/api-reference/assemble-shaders/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/484347790.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/app-data.json" crossorigin="anonymous"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div><div class="body__Body-sc-lvm4v2-3 hYEoHZ"><div class="header__HeaderContainer-sc-3r2dxq-1 kTxBVF"><div></div></div><div class="toc__TocContainer-sc-c2gnov-5 cgWSVV"><div><div title="Overview" class="toc__TocEntry-sc-c2gnov-1 jPuMoh"><svg viewBox="0 0 24 24" class="toc__TocChevron-sc-c2gnov-0 ljtECw" width="24" height="24"><title>Chevron Down</title><path transform="rotate(270, 12, 12)" fill-rule="evenodd" clip-rule="evenodd" d="M9 12C9 12.2652 9.10536 12.5196 9.29289 12.7071L13.2929 16.7071C13.6834 17.0976 14.3166 17.0976 14.7071 16.7071C15.0976 16.3166 15.0976 15.6834 14.7071 15.2929L11.4142 12L14.7071 8.70711C15.0976 8.31658 15.0976 7.68342 14.7071 7.29289C14.3166 6.90237 13.6834 6.90237 13.2929 7.29289L9.29289 11.2929C9.10536 11.4804 9 11.7348 9 12Z"></path></svg><span class="toc__TocHeader-sc-c2gnov-2 jPCeQk">Overview</span></div><ul class="toc__TocSubpages-sc-c2gnov-4 kBeVvn"><div><li><div title="Overview" class="toc__TocEntry-sc-c2gnov-1 fBOuaF"><div class="toc__TocLink-sc-c2gnov-3 flAsfN"><a title="Overview" href="/docs">Overview</a></div></div></li></div><div><li><div title="What&#x27;s New" class="toc__TocEntry-sc-c2gnov-1 fBOuaF"><div class="toc__TocLink-sc-c2gnov-3 flAsfN"><a title="What&#x27;s New" href="/docs/whats-new">What&#x27;s New</a></div></div></li></div><div><li><div title="Upgrade Guide" class="toc__TocEntry-sc-c2gnov-1 fBOuaF"><div class="toc__TocLink-sc-c2gnov-3 flAsfN"><a title="Upgrade Guide" href="/docs/upgrade-guide">Upgrade Guide</a></div></div></li></div></ul></div><div><div title="Developer Guide" class="toc__TocEntry-sc-c2gnov-1 fvAQnU"><svg viewBox="0 0 24 24" class="toc__TocChevron-sc-c2gnov-0 ljtECw" width="24" height="24"><title>Chevron Down</title><path transform="rotate(270, 12, 12)" fill-rule="evenodd" clip-rule="evenodd" d="M9 12C9 12.2652 9.10536 12.5196 9.29289 12.7071L13.2929 16.7071C13.6834 17.0976 14.3166 17.0976 14.7071 16.7071C15.0976 16.3166 15.0976 15.6834 14.7071 15.2929L11.4142 12L14.7071 8.70711C15.0976 8.31658 15.0976 7.68342 14.7071 7.29289C14.3166 6.90237 13.6834 6.90237 13.2929 7.29289L9.29289 11.2929C9.10536 11.4804 9 11.7348 9 12Z"></path></svg><span class="toc__TocHeader-sc-c2gnov-2 jPCeQk">Developer Guide</span></div><ul class="toc__TocSubpages-sc-c2gnov-4 kBeVvn"><div><li><div title="Overview" class="toc__TocEntry-sc-c2gnov-1 fBOuaF"><div class="toc__TocLink-sc-c2gnov-3 flAsfN"><a title="Overview" href="/docs/developer-guide">Overview</a></div></div></li></div><div><li><div title="Accessors" class="toc__TocEntry-sc-c2gnov-1 fBOuaF"><div class="toc__TocLink-sc-c2gnov-3 flAsfN"><a title="Accessors" href="/docs/developer-guide/accessors">Accessors</a></div></div></li></div><div><li><div title="Transform Feedback (WebGL 2)" class="toc__TocEntry-sc-c2gnov-1 fBOuaF"><div class="toc__TocLink-sc-c2gnov-3 flAsfN"><a title="Transform Feedback (WebGL 2)" href="/docs/developer-guide/transform-feedback">Transform Feedback (WebGL 2)</a></div></div></li></div><div><li><div title="Shader Modules" class="toc__TocEntry-sc-c2gnov-1 fBOuaF"><div class="toc__TocLink-sc-c2gnov-3 flAsfN"><a title="Shader Modules" href="/docs/developer-guide/shader-modules">Shader Modules</a></div></div></li></div><div><li><div title="Debugging" class="toc__TocEntry-sc-c2gnov-1 fBOuaF"><div class="toc__TocLink-sc-c2gnov-3 flAsfN"><a title="Debugging" href="/docs/developer-guide/debugging">Debugging</a></div></div></li></div><div><li><div title="Bundling" class="toc__TocEntry-sc-c2gnov-1 fBOuaF"><div class="toc__TocLink-sc-c2gnov-3 flAsfN"><a title="Bundling" href="/docs/developer-guide/bundling">Bundling</a></div></div></li></div><div><li><div title="Contributing" class="toc__TocEntry-sc-c2gnov-1 fBOuaF"><div class="toc__TocLink-sc-c2gnov-3 flAsfN"><a title="Contributing" href="/docs/developer-guide/contributing">Contributing</a></div></div></li></div></ul></div><div><div title="API Reference" class="toc__TocEntry-sc-c2gnov-1 fvAQnU"><svg viewBox="0 0 24 24" class="toc__TocChevron-sc-c2gnov-0 fseOIT" width="24" height="24"><title>Chevron Down</title><path transform="rotate(270, 12, 12)" fill-rule="evenodd" clip-rule="evenodd" d="M9 12C9 12.2652 9.10536 12.5196 9.29289 12.7071L13.2929 16.7071C13.6834 17.0976 14.3166 17.0976 14.7071 16.7071C15.0976 16.3166 15.0976 15.6834 14.7071 15.2929L11.4142 12L14.7071 8.70711C15.0976 8.31658 15.0976 7.68342 14.7071 7.29289C14.3166 6.90237 13.6834 6.90237 13.2929 7.29289L9.29289 11.2929C9.10536 11.4804 9 11.7348 9 12Z"></path></svg><span class="toc__TocHeader-sc-c2gnov-2 jPCeQk">API Reference</span></div><ul class="toc__TocSubpages-sc-c2gnov-4 jHvzTX"><div><div title="@luma.gl/engine" class="toc__TocEntry-sc-c2gnov-1 fBOuaF"><svg viewBox="0 0 24 24" class="toc__TocChevron-sc-c2gnov-0 rnYJU" width="24" height="24"><title>Chevron Down</title><path transform="rotate(270, 12, 12)" fill-rule="evenodd" clip-rule="evenodd" d="M9 12C9 12.2652 9.10536 12.5196 9.29289 12.7071L13.2929 16.7071C13.6834 17.0976 14.3166 17.0976 14.7071 16.7071C15.0976 16.3166 15.0976 15.6834 14.7071 15.2929L11.4142 12L14.7071 8.70711C15.0976 8.31658 15.0976 7.68342 14.7071 7.29289C14.3166 6.90237 13.6834 6.90237 13.2929 7.29289L9.29289 11.2929C9.10536 11.4804 9 11.7348 9 12Z"></path></svg><span class="toc__TocHeader-sc-c2gnov-2 effWma">@luma.gl/engine</span></div><ul class="toc__TocSubpages-sc-c2gnov-4 kBeVvn"><div><li><div title="Model" class="toc__TocEntry-sc-c2gnov-1 fBOuaF"><div class="toc__TocLink-sc-c2gnov-3 jIHaHd"><a title="Model" href="/modules/engine/docs/api-reference/model">Model</a></div></div></li></div><div><li><div title="AnimationLoop" class="toc__TocEntry-sc-c2gnov-1 fBOuaF"><div class="toc__TocLink-sc-c2gnov-3 jIHaHd"><a title="AnimationLoop" href="/modules/engine/docs/api-reference/animation-loop">AnimationLoop</a></div></div></li></div><div><li><div title="Transform (WebGL 2)" class="toc__TocEntry-sc-c2gnov-1 fBOuaF"><div class="toc__TocLink-sc-c2gnov-3 jIHaHd"><a title="Transform (WebGL 2)" href="/modules/engine/docs/api-reference/transform">Transform (WebGL 2)</a></div></div></li></div><div><li><div title="Geometry" class="toc__TocEntry-sc-c2gnov-1 fBOuaF"><div class="toc__TocLink-sc-c2gnov-3 jIHaHd"><a title="Geometry" href="/modules/engine/docs/api-reference/geometry">Geometry</a></div></div></li></div><div><li><div title="Built-in Geometries" class="toc__TocEntry-sc-c2gnov-1 fBOuaF"><div class="toc__TocLink-sc-c2gnov-3 jIHaHd"><a title="Built-in Geometries" href="/modules/engine/docs/api-reference/geometries">Built-in Geometries</a></div></div></li></div><div><li><div title="ProgramManager" class="toc__TocEntry-sc-c2gnov-1 fBOuaF"><div class="toc__TocLink-sc-c2gnov-3 jIHaHd"><a title="ProgramManager" href="/modules/engine/docs/api-reference/program-manager">ProgramManager</a></div></div></li></div><div><li><div title="Timeline" class="toc__TocEntry-sc-c2gnov-1 fBOuaF"><div class="toc__TocLink-sc-c2gnov-3 jIHaHd"><a title="Timeline" href="/modules/engine/docs/api-reference/animation/timeline">Timeline</a></div></div></li></div><div><li><div title="KeyFrames" class="toc__TocEntry-sc-c2gnov-1 fBOuaF"><div class="toc__TocLink-sc-c2gnov-3 jIHaHd"><a title="KeyFrames" href="/modules/engine/docs/api-reference/animation/key-frames">KeyFrames</a></div></div></li></div></ul></div><div><div title="@luma.gl/webgl" class="toc__TocEntry-sc-c2gnov-1 fBOuaF"><svg viewBox="0 0 24 24" class="toc__TocChevron-sc-c2gnov-0 rnYJU" width="24" height="24"><title>Chevron Down</title><path transform="rotate(270, 12, 12)" fill-rule="evenodd" clip-rule="evenodd" d="M9 12C9 12.2652 9.10536 12.5196 9.29289 12.7071L13.2929 16.7071C13.6834 17.0976 14.3166 17.0976 14.7071 16.7071C15.0976 16.3166 15.0976 15.6834 14.7071 15.2929L11.4142 12L14.7071 8.70711C15.0976 8.31658 15.0976 7.68342 14.7071 7.29289C14.3166 6.90237 13.6834 6.90237 13.2929 7.29289L9.29289 11.2929C9.10536 11.4804 9 11.7348 9 12Z"></path></svg><span class="toc__TocHeader-sc-c2gnov-2 effWma">@luma.gl/webgl</span></div><ul class="toc__TocSubpages-sc-c2gnov-4 kBeVvn"><div><li><div title="Accessor" class="toc__TocEntry-sc-c2gnov-1 fBOuaF"><div class="toc__TocLink-sc-c2gnov-3 jIHaHd"><a title="Accessor" href="/modules/webgl/docs/api-reference/accessor">Accessor</a></div></div></li></div><div><li><div title="Buffer" class="toc__TocEntry-sc-c2gnov-1 fBOuaF"><div class="toc__TocLink-sc-c2gnov-3 jIHaHd"><a title="Buffer" href="/modules/webgl/docs/api-reference/buffer">Buffer</a></div></div></li></div><div><li><div title="Framebuffer" class="toc__TocEntry-sc-c2gnov-1 fBOuaF"><div class="toc__TocLink-sc-c2gnov-3 jIHaHd"><a title="Framebuffer" href="/modules/webgl/docs/api-reference/framebuffer">Framebuffer</a></div></div></li></div><div><li><div title="Program" class="toc__TocEntry-sc-c2gnov-1 fBOuaF"><div class="toc__TocLink-sc-c2gnov-3 jIHaHd"><a title="Program" href="/modules/webgl/docs/api-reference/program">Program</a></div></div></li></div><div><li><div title="Query" class="toc__TocEntry-sc-c2gnov-1 fBOuaF"><div class="toc__TocLink-sc-c2gnov-3 jIHaHd"><a title="Query" href="/modules/webgl/docs/api-reference/query">Query</a></div></div></li></div><div><li><div title="Renderbuffer" class="toc__TocEntry-sc-c2gnov-1 fBOuaF"><div class="toc__TocLink-sc-c2gnov-3 jIHaHd"><a title="Renderbuffer" href="/modules/webgl/docs/api-reference/renderbuffer">Renderbuffer</a></div></div></li></div><div><li><div title="Shader" class="toc__TocEntry-sc-c2gnov-1 fBOuaF"><div class="toc__TocLink-sc-c2gnov-3 jIHaHd"><a title="Shader" href="/modules/webgl/docs/api-reference/shader">Shader</a></div></div></li></div><div><li><div title="Texture" class="toc__TocEntry-sc-c2gnov-1 fBOuaF"><div class="toc__TocLink-sc-c2gnov-3 jIHaHd"><a title="Texture" href="/modules/webgl/docs/api-reference/texture">Texture</a></div></div></li></div><div><li><div title="Texture2D" class="toc__TocEntry-sc-c2gnov-1 fBOuaF"><div class="toc__TocLink-sc-c2gnov-3 jIHaHd"><a title="Texture2D" href="/modules/webgl/docs/api-reference/texture-2d">Texture2D</a></div></div></li></div><div><li><div title="Texture3D (WebGL 2)" class="toc__TocEntry-sc-c2gnov-1 fBOuaF"><div class="toc__TocLink-sc-c2gnov-3 jIHaHd"><a title="Texture3D (WebGL 2)" href="/modules/webgl/docs/api-reference/texture-3d">Texture3D (WebGL 2)</a></div></div></li></div><div><li><div title="TextureCube" class="toc__TocEntry-sc-c2gnov-1 fBOuaF"><div class="toc__TocLink-sc-c2gnov-3 jIHaHd"><a title="TextureCube" href="/modules/webgl/docs/api-reference/texture-cube">TextureCube</a></div></div></li></div><div><li><div title="TransformFeedback (WebGL 2)" class="toc__TocEntry-sc-c2gnov-1 fBOuaF"><div class="toc__TocLink-sc-c2gnov-3 jIHaHd"><a title="TransformFeedback (WebGL 2)" href="/modules/webgl/docs/api-reference/transform-feedback">TransformFeedback (WebGL 2)</a></div></div></li></div><div><li><div title="UniformBufferLayout (WebGL 2)" class="toc__TocEntry-sc-c2gnov-1 fBOuaF"><div class="toc__TocLink-sc-c2gnov-3 jIHaHd"><a title="UniformBufferLayout (WebGL 2)" href="/modules/webgl/docs/api-reference/uniform-buffer-layout">UniformBufferLayout (WebGL 2)</a></div></div></li></div><div><li><div title="VertexArray" class="toc__TocEntry-sc-c2gnov-1 fBOuaF"><div class="toc__TocLink-sc-c2gnov-3 jIHaHd"><a title="VertexArray" href="/modules/webgl/docs/api-reference/vertex-array">VertexArray</a></div></div></li></div><div><li><div title="VertexArrayObject" class="toc__TocEntry-sc-c2gnov-1 fBOuaF"><div class="toc__TocLink-sc-c2gnov-3 jIHaHd"><a title="VertexArrayObject" href="/modules/webgl/docs/api-reference/vertex-array-object">VertexArrayObject</a></div></div></li></div><div><li><div title="Resource" class="toc__TocEntry-sc-c2gnov-1 fBOuaF"><div class="toc__TocLink-sc-c2gnov-3 jIHaHd"><a title="Resource" href="/modules/webgl/docs/api-reference/resource">Resource</a></div></div></li></div><div><li><div title="Feature Checking" class="toc__TocEntry-sc-c2gnov-1 fBOuaF"><div class="toc__TocLink-sc-c2gnov-3 jIHaHd"><a title="Feature Checking" href="/modules/webgl/docs/api-reference/context/feature-checking">Feature Checking</a></div></div></li></div><div><li><div title="Context Properties" class="toc__TocEntry-sc-c2gnov-1 fBOuaF"><div class="toc__TocLink-sc-c2gnov-3 jIHaHd"><a title="Context Properties" href="/modules/webgl/docs/api-reference/context/context-properties">Context Properties</a></div></div></li></div><div><li><div title="Moving Data" class="toc__TocEntry-sc-c2gnov-1 fBOuaF"><div class="toc__TocLink-sc-c2gnov-3 jIHaHd"><a title="Moving Data" href="/modules/webgl/docs/api-reference/moving-data">Moving Data</a></div></div></li></div></ul></div><div><div title="@luma.gl/gltools" class="toc__TocEntry-sc-c2gnov-1 fBOuaF"><svg viewBox="0 0 24 24" class="toc__TocChevron-sc-c2gnov-0 rnYJU" width="24" height="24"><title>Chevron Down</title><path transform="rotate(270, 12, 12)" fill-rule="evenodd" clip-rule="evenodd" d="M9 12C9 12.2652 9.10536 12.5196 9.29289 12.7071L13.2929 16.7071C13.6834 17.0976 14.3166 17.0976 14.7071 16.7071C15.0976 16.3166 15.0976 15.6834 14.7071 15.2929L11.4142 12L14.7071 8.70711C15.0976 8.31658 15.0976 7.68342 14.7071 7.29289C14.3166 6.90237 13.6834 6.90237 13.2929 7.29289L9.29289 11.2929C9.10536 11.4804 9 11.7348 9 12Z"></path></svg><span class="toc__TocHeader-sc-c2gnov-2 effWma">@luma.gl/gltools</span></div><ul class="toc__TocSubpages-sc-c2gnov-4 kBeVvn"><div><li><div title="Context Management" class="toc__TocEntry-sc-c2gnov-1 fBOuaF"><div class="toc__TocLink-sc-c2gnov-3 jIHaHd"><a title="Context Management" href="/modules/gltools/docs/api-reference/context">Context Management</a></div></div></li></div><div><li><div title="Parameter Setting" class="toc__TocEntry-sc-c2gnov-1 fBOuaF"><div class="toc__TocLink-sc-c2gnov-3 jIHaHd"><a title="Parameter Setting" href="/modules/gltools/docs/api-reference/parameter-setting">Parameter Setting</a></div></div></li></div><div><li><div title="Device Pixels" class="toc__TocEntry-sc-c2gnov-1 fBOuaF"><div class="toc__TocLink-sc-c2gnov-3 jIHaHd"><a title="Device Pixels" href="/modules/gltools/docs/api-reference/device-pixels">Device Pixels</a></div></div></li></div></ul></div><div><div title="@luma.gl/shadertools" class="toc__TocEntry-sc-c2gnov-1 fBOuaF"><svg viewBox="0 0 24 24" class="toc__TocChevron-sc-c2gnov-0 fshRCI" width="24" height="24"><title>Chevron Down</title><path transform="rotate(270, 12, 12)" fill-rule="evenodd" clip-rule="evenodd" d="M9 12C9 12.2652 9.10536 12.5196 9.29289 12.7071L13.2929 16.7071C13.6834 17.0976 14.3166 17.0976 14.7071 16.7071C15.0976 16.3166 15.0976 15.6834 14.7071 15.2929L11.4142 12L14.7071 8.70711C15.0976 8.31658 15.0976 7.68342 14.7071 7.29289C14.3166 6.90237 13.6834 6.90237 13.2929 7.29289L9.29289 11.2929C9.10536 11.4804 9 11.7348 9 12Z"></path></svg><span class="toc__TocHeader-sc-c2gnov-2 effWma">@luma.gl/shadertools</span></div><ul class="toc__TocSubpages-sc-c2gnov-4 bFgSUa"><div><li><div title="Shader Assembly" class="toc__TocEntry-sc-c2gnov-1 fBOuaF"><div class="toc__TocLink-sc-c2gnov-3 gtJHRF"><a aria-current="page" title="Shader Assembly" class="" href="/modules/shadertools/docs/api-reference/assemble-shaders">Shader Assembly</a></div></div></li></div><div><li><div title="Core Shader Modules" class="toc__TocEntry-sc-c2gnov-1 fBOuaF"><div class="toc__TocLink-sc-c2gnov-3 jIHaHd"><a title="Core Shader Modules" href="/modules/shadertools/docs/api-reference/core-shader-modules">Core Shader Modules</a></div></div></li></div><div><li><div title="Effects Shader Modules" class="toc__TocEntry-sc-c2gnov-1 fBOuaF"><div class="toc__TocLink-sc-c2gnov-3 jIHaHd"><a title="Effects Shader Modules" href="/modules/shadertools/docs/api-reference/effects-shader-modules">Effects Shader Modules</a></div></div></li></div></ul></div><div><div title="@luma.gl/experimental" class="toc__TocEntry-sc-c2gnov-1 fBOuaF"><svg viewBox="0 0 24 24" class="toc__TocChevron-sc-c2gnov-0 rnYJU" width="24" height="24"><title>Chevron Down</title><path transform="rotate(270, 12, 12)" fill-rule="evenodd" clip-rule="evenodd" d="M9 12C9 12.2652 9.10536 12.5196 9.29289 12.7071L13.2929 16.7071C13.6834 17.0976 14.3166 17.0976 14.7071 16.7071C15.0976 16.3166 15.0976 15.6834 14.7071 15.2929L11.4142 12L14.7071 8.70711C15.0976 8.31658 15.0976 7.68342 14.7071 7.29289C14.3166 6.90237 13.6834 6.90237 13.2929 7.29289L9.29289 11.2929C9.10536 11.4804 9 11.7348 9 12Z"></path></svg><span class="toc__TocHeader-sc-c2gnov-2 effWma">@luma.gl/experimental</span></div><ul class="toc__TocSubpages-sc-c2gnov-4 kBeVvn"><div><li><div title="Caveat Emptor!" class="toc__TocEntry-sc-c2gnov-1 fBOuaF"><div class="toc__TocLink-sc-c2gnov-3 jIHaHd"><a title="Caveat Emptor!" href="/modules/experimental/docs/api-reference/warning">Caveat Emptor!</a></div></div></li></div><div><li><div title="ScenegraphNode" class="toc__TocEntry-sc-c2gnov-1 fBOuaF"><div class="toc__TocLink-sc-c2gnov-3 jIHaHd"><a title="ScenegraphNode" href="/modules/experimental/docs/api-reference/scenegraph/scenegraph-node">ScenegraphNode</a></div></div></li></div><div><li><div title="ModelNode" class="toc__TocEntry-sc-c2gnov-1 fBOuaF"><div class="toc__TocLink-sc-c2gnov-3 jIHaHd"><a title="ModelNode" href="/modules/experimental/docs/api-reference/scenegraph/model-node">ModelNode</a></div></div></li></div><div><li><div title="GroupNode" class="toc__TocEntry-sc-c2gnov-1 fBOuaF"><div class="toc__TocLink-sc-c2gnov-3 jIHaHd"><a title="GroupNode" href="/modules/experimental/docs/api-reference/scenegraph/group-node">GroupNode</a></div></div></li></div></ul></div><div><div title="@luma.gl/debug" class="toc__TocEntry-sc-c2gnov-1 fBOuaF"><svg viewBox="0 0 24 24" class="toc__TocChevron-sc-c2gnov-0 rnYJU" width="24" height="24"><title>Chevron Down</title><path transform="rotate(270, 12, 12)" fill-rule="evenodd" clip-rule="evenodd" d="M9 12C9 12.2652 9.10536 12.5196 9.29289 12.7071L13.2929 16.7071C13.6834 17.0976 14.3166 17.0976 14.7071 16.7071C15.0976 16.3166 15.0976 15.6834 14.7071 15.2929L11.4142 12L14.7071 8.70711C15.0976 8.31658 15.0976 7.68342 14.7071 7.29289C14.3166 6.90237 13.6834 6.90237 13.2929 7.29289L9.29289 11.2929C9.10536 11.4804 9 11.7348 9 12Z"></path></svg><span class="toc__TocHeader-sc-c2gnov-2 effWma">@luma.gl/debug</span></div><ul class="toc__TocSubpages-sc-c2gnov-4 kBeVvn"><div><li><div title="Debug" class="toc__TocEntry-sc-c2gnov-1 fBOuaF"><div class="toc__TocLink-sc-c2gnov-3 jIHaHd"><a title="Debug" href="/modules/debug/docs">Debug</a></div></div></li></div></ul></div></ul></div><div><div title="Tutorials" class="toc__TocEntry-sc-c2gnov-1 fvAQnU"><svg viewBox="0 0 24 24" class="toc__TocChevron-sc-c2gnov-0 ljtECw" width="24" height="24"><title>Chevron Down</title><path transform="rotate(270, 12, 12)" fill-rule="evenodd" clip-rule="evenodd" d="M9 12C9 12.2652 9.10536 12.5196 9.29289 12.7071L13.2929 16.7071C13.6834 17.0976 14.3166 17.0976 14.7071 16.7071C15.0976 16.3166 15.0976 15.6834 14.7071 15.2929L11.4142 12L14.7071 8.70711C15.0976 8.31658 15.0976 7.68342 14.7071 7.29289C14.3166 6.90237 13.6834 6.90237 13.2929 7.29289L9.29289 11.2929C9.10536 11.4804 9 11.7348 9 12Z"></path></svg><span class="toc__TocHeader-sc-c2gnov-2 jPCeQk">Tutorials</span></div><ul class="toc__TocSubpages-sc-c2gnov-4 kBeVvn"><div><li><div title="Getting Started" class="toc__TocEntry-sc-c2gnov-1 fBOuaF"><div class="toc__TocLink-sc-c2gnov-3 flAsfN"><a title="Getting Started" href="/docs/getting-started">Getting Started</a></div></div></li></div><div><li><div title="Hello Triangle" class="toc__TocEntry-sc-c2gnov-1 fBOuaF"><div class="toc__TocLink-sc-c2gnov-3 flAsfN"><a title="Hello Triangle" href="/docs/getting-started/hello-triangle">Hello Triangle</a></div></div></li></div><div><li><div title="High, Medium, Low" class="toc__TocEntry-sc-c2gnov-1 fBOuaF"><div class="toc__TocLink-sc-c2gnov-3 flAsfN"><a title="High, Medium, Low" href="/docs/getting-started/high-medium-low">High, Medium, Low</a></div></div></li></div><div><li><div title="Hello Instancing (High-level)" class="toc__TocEntry-sc-c2gnov-1 fBOuaF"><div class="toc__TocLink-sc-c2gnov-3 flAsfN"><a title="Hello Instancing (High-level)" href="/docs/getting-started/hello-instancing-high">Hello Instancing (High-level)</a></div></div></li></div><div><li><div title="Hello Instancing (Mid-level)" class="toc__TocEntry-sc-c2gnov-1 fBOuaF"><div class="toc__TocLink-sc-c2gnov-3 flAsfN"><a title="Hello Instancing (Mid-level)" href="/docs/getting-started/hello-instancing-mid">Hello Instancing (Mid-level)</a></div></div></li></div><div><li><div title="Hello Instancing (Low-level)" class="toc__TocEntry-sc-c2gnov-1 fBOuaF"><div class="toc__TocLink-sc-c2gnov-3 flAsfN"><a title="Hello Instancing (Low-level)" href="/docs/getting-started/hello-instancing-low">Hello Instancing (Low-level)</a></div></div></li></div><div><li><div title="Shader Modules" class="toc__TocEntry-sc-c2gnov-1 fBOuaF"><div class="toc__TocLink-sc-c2gnov-3 flAsfN"><a title="Shader Modules" href="/docs/getting-started/shader-modules">Shader Modules</a></div></div></li></div><div><li><div title="Shader Hooks" class="toc__TocEntry-sc-c2gnov-1 fBOuaF"><div class="toc__TocLink-sc-c2gnov-3 flAsfN"><a title="Shader Hooks" href="/docs/getting-started/shader-hooks">Shader Hooks</a></div></div></li></div><div><li><div title="Shader Modules (Low-level)" class="toc__TocEntry-sc-c2gnov-1 fBOuaF"><div class="toc__TocLink-sc-c2gnov-3 flAsfN"><a title="Shader Modules (Low-level)" href="/docs/getting-started/shader-modules-low">Shader Modules (Low-level)</a></div></div></li></div><div><li><div title="Transform Feedback" class="toc__TocEntry-sc-c2gnov-1 fBOuaF"><div class="toc__TocLink-sc-c2gnov-3 flAsfN"><a title="Transform Feedback" href="/docs/getting-started/transform-feedback">Transform Feedback</a></div></div></li></div><div><li><div title="External Contexts" class="toc__TocEntry-sc-c2gnov-1 fBOuaF"><div class="toc__TocLink-sc-c2gnov-3 flAsfN"><a title="External Contexts" href="/docs/getting-started/external-context">External Contexts</a></div></div></li></div><div><li><div title="Hello Cube" class="toc__TocEntry-sc-c2gnov-1 fBOuaF"><div class="toc__TocLink-sc-c2gnov-3 flAsfN"><a title="Hello Cube" href="/docs/getting-started/hello-cube">Hello Cube</a></div></div></li></div><div><li><div title="Lighting" class="toc__TocEntry-sc-c2gnov-1 fBOuaF"><div class="toc__TocLink-sc-c2gnov-3 flAsfN"><a title="Lighting" href="/docs/getting-started/lighting">Lighting</a></div></div></li></div><div><li><div title="Instanced Transform" class="toc__TocEntry-sc-c2gnov-1 fBOuaF"><div class="toc__TocLink-sc-c2gnov-3 flAsfN"><a title="Instanced Transform" href="/docs/getting-started/instanced-transform">Instanced Transform</a></div></div></li></div><div><li><div title="What&#x27;s Next?" class="toc__TocEntry-sc-c2gnov-1 fBOuaF"><div class="toc__TocLink-sc-c2gnov-3 flAsfN"><a title="What&#x27;s Next?" href="/docs/getting-started/whats-next">What&#x27;s Next?</a></div></div></li></div></ul></div></div><div class="body__BodyContainerToC-sc-lvm4v2-1 ZoTUq"><div style="position:relative"><div class="typography__MarkdownBody-sc-1pmaksm-11 iTIrjR"><h1 id="shader-assembly" style="position:relative" class="typography__H1-sc-1pmaksm-2 dMTgn"><a href="#shader-assembly" aria-label="shader assembly permalink" class="typography__A-sc-1pmaksm-0 dvhuEd anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Shader Assembly</h1><p class="typography__P-sc-1pmaksm-8 kocNpP">luma.gl&#x27;s module shader system is primarily exposed via the function <code class="typography__InlineCode-sc-1pmaksm-12 iEykyL language-text">assembleShaders</code> which composes base vertex and fragment shader source with shader modules, hook functions and injections to generate the final vertex and fragment shader source that can be used to create a program.</p><h3 style="position:relative" id="assembleshaders" class="typography__H3-sc-1pmaksm-4 ePRhQs"><a href="#assembleshaders" aria-label="code classlanguage textassembleshaderscode permalink" class="typography__A-sc-1pmaksm-0 dvhuEd anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code class="typography__InlineCode-sc-1pmaksm-12 iEykyL language-text">assembleShaders</code></h3><p class="typography__P-sc-1pmaksm-8 kocNpP">Takes the source code of a vertex shader and a fragment shader, and a list of modules, defines, etc. Outputs resolved source code for both shaders, after adding prologue, adding defines, importing and transpiling modules, and injecting any shader fragments).</p><ul class="typography__List-sc-1pmaksm-9 hsOfQe"><li class="typography__ListItem-sc-1pmaksm-10 kVRSNy"><code class="typography__InlineCode-sc-1pmaksm-12 iEykyL language-text">vs</code> - vertex shader source</li><li class="typography__ListItem-sc-1pmaksm-10 kVRSNy"><code class="typography__InlineCode-sc-1pmaksm-12 iEykyL language-text">fs</code> - fragment shader source code</li><li class="typography__ListItem-sc-1pmaksm-10 kVRSNy"><code class="typography__InlineCode-sc-1pmaksm-12 iEykyL language-text">id</code> - <code class="typography__InlineCode-sc-1pmaksm-12 iEykyL language-text">id</code> for the shader, will be used to inject shader names (using <code class="typography__InlineCode-sc-1pmaksm-12 iEykyL language-text">#define SHADER_NAME</code>) if not already present in the source.</li><li class="typography__ListItem-sc-1pmaksm-10 kVRSNy"><code class="typography__InlineCode-sc-1pmaksm-12 iEykyL language-text">prologue</code>=<code class="typography__InlineCode-sc-1pmaksm-12 iEykyL language-text">true</code> (Boolean) - Will inject platform prologue (see below)</li><li class="typography__ListItem-sc-1pmaksm-10 kVRSNy"><code class="typography__InlineCode-sc-1pmaksm-12 iEykyL language-text">defines</code>=<code class="typography__InlineCode-sc-1pmaksm-12 iEykyL language-text">{}</code> (Object) - a map of key/value pairs representing custom <code class="typography__InlineCode-sc-1pmaksm-12 iEykyL language-text">#define</code>s to be injected into the shader source</li><li class="typography__ListItem-sc-1pmaksm-10 kVRSNy"><code class="typography__InlineCode-sc-1pmaksm-12 iEykyL language-text">modules</code>=<code class="typography__InlineCode-sc-1pmaksm-12 iEykyL language-text">[]</code> (Array) - list of shader modules (either objects defining the module, or names of previously registered modules)</li><li class="typography__ListItem-sc-1pmaksm-10 kVRSNy"><code class="typography__InlineCode-sc-1pmaksm-12 iEykyL language-text">inject</code>=<code class="typography__InlineCode-sc-1pmaksm-12 iEykyL language-text">{}</code> (Object) - map of substituions,</li><li class="typography__ListItem-sc-1pmaksm-10 kVRSNy"><code class="typography__InlineCode-sc-1pmaksm-12 iEykyL language-text">hookFunctions</code>=<code class="typography__InlineCode-sc-1pmaksm-12 iEykyL language-text">[]</code> Array of hook functions descriptions. Descriptions can simply be the hook function signature (with a prefix <code class="typography__InlineCode-sc-1pmaksm-12 iEykyL language-text">vs</code> for vertex shader, or <code class="typography__InlineCode-sc-1pmaksm-12 iEykyL language-text">fs</code> for fragment shader) or an object with the hook signature, and a header and footer that will always appear in the hook function. For example:</li><li class="typography__ListItem-sc-1pmaksm-10 kVRSNy"><code class="typography__InlineCode-sc-1pmaksm-12 iEykyL language-text">transpileToGLSL100</code>: force transpilation to GLSL ES 1.0 (see below)</li></ul><div class="gatsby-highlight" data-language="js"><pre class="typography__Pre-sc-1pmaksm-14 cbLAEX language-js"><code class="typography__InlineCode-sc-1pmaksm-12 iEykyL language-js"><span class="token punctuation">[</span>
  <span class="token string">&#x27;vs:MY_HOOK_FUNCTION1(inout vec4 color)&#x27;</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    <span class="token literal-property property">hook</span><span class="token operator">:</span> <span class="token string">&#x27;fs:MY_HOOK_FUNCTION2(inout vec4 color)&#x27;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">header</span><span class="token operator">:</span> <span class="token string">&#x27;if (color.a == 0.0) discard;\n&#x27;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">footer</span><span class="token operator">:</span> <span class="token string">&#x27;color.a *= 1.2;\n&#x27;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span></code></pre></div><p class="typography__P-sc-1pmaksm-8 kocNpP">Returns:</p><ul class="typography__List-sc-1pmaksm-9 hsOfQe"><li class="typography__ListItem-sc-1pmaksm-10 kVRSNy"><code class="typography__InlineCode-sc-1pmaksm-12 iEykyL language-text">vs</code> - the resolved vertex shader</li><li class="typography__ListItem-sc-1pmaksm-10 kVRSNy"><code class="typography__InlineCode-sc-1pmaksm-12 iEykyL language-text">fs</code> - the resolved fragment shader</li><li class="typography__ListItem-sc-1pmaksm-10 kVRSNy"><code class="typography__InlineCode-sc-1pmaksm-12 iEykyL language-text">getUniforms</code> - a combined <code class="typography__InlineCode-sc-1pmaksm-12 iEykyL language-text">getUniforms</code> function covering all modules.</li><li class="typography__ListItem-sc-1pmaksm-10 kVRSNy"><code class="typography__InlineCode-sc-1pmaksm-12 iEykyL language-text">moduleMap</code> - a map with all resolved modules, keyed by name</li></ul><h2 style="position:relative" id="shader-hooks-and-module-injections" class="typography__H2-sc-1pmaksm-3 jYCwIr"><a href="#shader-hooks-and-module-injections" aria-label="shader hooks and module injections permalink" class="typography__A-sc-1pmaksm-0 dvhuEd anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Shader Hooks and Module Injections</h2><p class="typography__P-sc-1pmaksm-8 kocNpP">Shader hooks and module injections are a system that allows for shader to be written in a generic manner, with behaviour modified when modules are included. For example if we define a shader hook as <code class="typography__InlineCode-sc-1pmaksm-12 iEykyL language-text">fs:MY_HOOK_FUNCTION(inout vec4 color)</code>, <code class="typography__InlineCode-sc-1pmaksm-12 iEykyL language-text">assembleShader</code> will inject the following function automatically into our fragment shader:</p><div class="gatsby-highlight" data-language="c"><pre class="typography__Pre-sc-1pmaksm-14 cbLAEX language-c"><code class="typography__InlineCode-sc-1pmaksm-12 iEykyL language-c"><span class="token keyword">void</span> <span class="token function">MY_HOOK_FUNCTION</span><span class="token punctuation">(</span>inout vec4 color<span class="token punctuation">)</span> <span class="token punctuation">{</span>

<span class="token punctuation">}</span></code></pre></div><p class="typography__P-sc-1pmaksm-8 kocNpP">We can the write our fragment shader as follows:</p><div class="gatsby-highlight" data-language="c"><pre class="typography__Pre-sc-1pmaksm-14 cbLAEX language-c"><code class="typography__InlineCode-sc-1pmaksm-12 iEykyL language-c">precision highp <span class="token keyword">float</span><span class="token punctuation">;</span>

<span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  vec4 color <span class="token operator">=</span> <span class="token function">vec4</span><span class="token punctuation">(</span><span class="token number">1.0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  gl_FragColor <span class="token operator">=</span> <span class="token function">MY_HOOK_FUNCTION</span><span class="token punctuation">(</span>color<span class="token punctuation">)</span>
<span class="token punctuation">}</span></code></pre></div><p class="typography__P-sc-1pmaksm-8 kocNpP">By default, the hook function is a no-op, so this doesn&#x27;t do anything. However, if we add a module injection like the following:</p><div class="gatsby-highlight" data-language="js"><pre class="typography__Pre-sc-1pmaksm-14 cbLAEX language-js"><code class="typography__InlineCode-sc-1pmaksm-12 iEykyL language-js"><span class="token punctuation">{</span>
  <span class="token literal-property property">picking</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string-property property">&#x27;fs:VERTEX_HOOK_FUNCTION&#x27;</span><span class="token operator">:</span> <span class="token string">&#x27;color = vec4(1.0, 0.0, 0.0, 1.0);&#x27;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div><p class="typography__P-sc-1pmaksm-8 kocNpP">And pass the <code class="typography__InlineCode-sc-1pmaksm-12 iEykyL language-text">picking</code> module to <code class="typography__InlineCode-sc-1pmaksm-12 iEykyL language-text">assembledShaders</code>, the hook function will be updated as follows:</p><div class="gatsby-highlight" data-language="c"><pre class="typography__Pre-sc-1pmaksm-14 cbLAEX language-c"><code class="typography__InlineCode-sc-1pmaksm-12 iEykyL language-c"><span class="token keyword">void</span> <span class="token function">MY_HOOK_FUNCTION</span><span class="token punctuation">(</span>inout vec4 color<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  color <span class="token operator">=</span> <span class="token function">vec4</span><span class="token punctuation">(</span><span class="token number">1.0</span><span class="token punctuation">,</span> <span class="token number">0.0</span><span class="token punctuation">,</span> <span class="token number">0.0</span><span class="token punctuation">,</span> <span class="token number">1.0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div><p class="typography__P-sc-1pmaksm-8 kocNpP">The hook function now changes the color from white to red.</p><h2 style="position:relative" id="constants-and-values" class="typography__H2-sc-1pmaksm-3 jYCwIr"><a href="#constants-and-values" aria-label="constants and values permalink" class="typography__A-sc-1pmaksm-0 dvhuEd anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Constants and Values</h2><h3 style="position:relative" id="predefined-injection-hooks" class="typography__H3-sc-1pmaksm-4 ePRhQs"><a href="#predefined-injection-hooks" aria-label="predefined injection hooks permalink" class="typography__A-sc-1pmaksm-0 dvhuEd anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Predefined Injection Hooks</h3><table class="typography__Table-sc-1pmaksm-17 bnjLCb"><thead><tr><th class="typography__TableHeaderCell-sc-1pmaksm-18 dFYdBi">Key</th><th class="typography__TableHeaderCell-sc-1pmaksm-18 dFYdBi">Shader</th><th class="typography__TableHeaderCell-sc-1pmaksm-18 dFYdBi">Description</th></tr></thead><tbody><tr><td class="typography__TableBodyCell-sc-1pmaksm-19 jVcpav"><code class="typography__InlineCode-sc-1pmaksm-12 iEykyL language-text">vs:#decl</code></td><td class="typography__TableBodyCell-sc-1pmaksm-19 jVcpav">Vertex</td><td class="typography__TableBodyCell-sc-1pmaksm-19 jVcpav">Inject at top of shader (declarations)</td></tr><tr><td class="typography__TableBodyCell-sc-1pmaksm-19 jVcpav"><code class="typography__InlineCode-sc-1pmaksm-12 iEykyL language-text">vs:#main-start</code></td><td class="typography__TableBodyCell-sc-1pmaksm-19 jVcpav">Vertex</td><td class="typography__TableBodyCell-sc-1pmaksm-19 jVcpav">Injected at the very beginning of main function</td></tr><tr><td class="typography__TableBodyCell-sc-1pmaksm-19 jVcpav"><code class="typography__InlineCode-sc-1pmaksm-12 iEykyL language-text">vs:#main-end</code></td><td class="typography__TableBodyCell-sc-1pmaksm-19 jVcpav">Vertex</td><td class="typography__TableBodyCell-sc-1pmaksm-19 jVcpav">Injected at the very end of main function</td></tr><tr><td class="typography__TableBodyCell-sc-1pmaksm-19 jVcpav"><code class="typography__InlineCode-sc-1pmaksm-12 iEykyL language-text">fs:#decl</code></td><td class="typography__TableBodyCell-sc-1pmaksm-19 jVcpav">Fragment</td><td class="typography__TableBodyCell-sc-1pmaksm-19 jVcpav">Inject at top of shader (declarations)</td></tr><tr><td class="typography__TableBodyCell-sc-1pmaksm-19 jVcpav"><code class="typography__InlineCode-sc-1pmaksm-12 iEykyL language-text">fs:#main-start</code></td><td class="typography__TableBodyCell-sc-1pmaksm-19 jVcpav">Fragment</td><td class="typography__TableBodyCell-sc-1pmaksm-19 jVcpav">Injected at the very beginning of main function</td></tr><tr><td class="typography__TableBodyCell-sc-1pmaksm-19 jVcpav"><code class="typography__InlineCode-sc-1pmaksm-12 iEykyL language-text">fs:#main-end</code></td><td class="typography__TableBodyCell-sc-1pmaksm-19 jVcpav">Fragment</td><td class="typography__TableBodyCell-sc-1pmaksm-19 jVcpav">Injected at the very end of main function</td></tr></tbody></table><p class="typography__P-sc-1pmaksm-8 kocNpP"><strong>NOTE</strong>: Injections assume that the <code class="typography__InlineCode-sc-1pmaksm-12 iEykyL language-text">main</code> function appears last in a shader.</p><h2 style="position:relative" id="usage" class="typography__H2-sc-1pmaksm-3 jYCwIr"><a href="#usage" aria-label="usage permalink" class="typography__A-sc-1pmaksm-0 dvhuEd anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Usage</h2><h3 style="position:relative" id="injection-map" class="typography__H3-sc-1pmaksm-4 ePRhQs"><a href="#injection-map" aria-label="injection map permalink" class="typography__A-sc-1pmaksm-0 dvhuEd anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Injection Map</h3><p class="typography__P-sc-1pmaksm-8 kocNpP"><code class="typography__InlineCode-sc-1pmaksm-12 iEykyL language-text">assembleShaders</code> (and <code class="typography__InlineCode-sc-1pmaksm-12 iEykyL language-text">Model</code> constructor) will take an <code class="typography__InlineCode-sc-1pmaksm-12 iEykyL language-text">inject</code> argument that contains a map of:</p><ul class="typography__List-sc-1pmaksm-9 hsOfQe"><li class="typography__ListItem-sc-1pmaksm-10 kVRSNy">keys indicating hooks (predefined or functions)</li><li class="typography__ListItem-sc-1pmaksm-10 kVRSNy">values representing code to be injected. This can be either a simple string or an object containing the <code class="typography__InlineCode-sc-1pmaksm-12 iEykyL language-text">injection</code> string and an <code class="typography__InlineCode-sc-1pmaksm-12 iEykyL language-text">order</code> indicating its priority.</li></ul><p class="typography__P-sc-1pmaksm-8 kocNpP">Examples:</p><div class="gatsby-highlight" data-language="text"><pre class="typography__Pre-sc-1pmaksm-14 cbLAEX language-text"><code class="typography__InlineCode-sc-1pmaksm-12 iEykyL language-text">  inject: {
    &#x27;fs:#main-end&#x27;: &#x27;  gl_FragColor = picking_filterColor(gl_FragColor)&#x27;
  }</code></pre></div><div class="gatsby-highlight" data-language="js"><pre class="typography__Pre-sc-1pmaksm-14 cbLAEX language-js"><code class="typography__InlineCode-sc-1pmaksm-12 iEykyL language-js">ProgramManager<span class="token punctuation">.</span><span class="token function">getDefaultProgramManager</span><span class="token punctuation">(</span>gl<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addShaderHook</span><span class="token punctuation">(</span><span class="token string">&#x27;fs:MYHOOK_fragmentColor(inout vec4 color)&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">new</span> <span class="token class-name">Model</span><span class="token punctuation">(</span>gl<span class="token punctuation">,</span> <span class="token punctuation">{</span>
  vs<span class="token punctuation">,</span>
  <span class="token literal-property property">fs</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">void main() {
    MYHOOK_fragmentColor(gl_FragColor);
  }</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
  <span class="token literal-property property">modules</span><span class="token operator">:</span> <span class="token punctuation">[</span>picking<span class="token punctuation">]</span>
  <span class="token literal-property property">inject</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string-property property">&#x27;fs:#main-start&#x27;</span><span class="token operator">:</span> <span class="token string">&#x27;gl_FragColor = vec4(1., 0., 0., 1.);&#x27;</span><span class="token punctuation">;</span>
    <span class="token string-property property">&#x27;fs:MYHOOK_fragmentColor&#x27;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">injection</span><span class="token operator">:</span> <span class="token string">&#x27;  color = picking_filterColor(color);&#x27;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">order</span><span class="token operator">:</span> <span class="token number">9999</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div><h2 style="position:relative" id="transpilation" class="typography__H2-sc-1pmaksm-3 jYCwIr"><a href="#transpilation" aria-label="transpilation permalink" class="typography__A-sc-1pmaksm-0 dvhuEd anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Transpilation</h2><p class="typography__P-sc-1pmaksm-8 kocNpP">If the <code class="typography__InlineCode-sc-1pmaksm-12 iEykyL language-text">transpileToGLSL100</code> option is used, <code class="typography__InlineCode-sc-1pmaksm-12 iEykyL language-text">assembleShaders</code> will attempt to transpile shaders to GLSL ES 1.0. This is a limited text replacement and requires that certain conventions be followed:</p><ul class="typography__List-sc-1pmaksm-9 hsOfQe"><li class="typography__ListItem-sc-1pmaksm-10 kVRSNy">Statements are written one per line.</li><li class="typography__ListItem-sc-1pmaksm-10 kVRSNy">Only one fragment shader output is supported.</li><li class="typography__ListItem-sc-1pmaksm-10 kVRSNy">GLSL 3.0-only features, such as 3D textures are not supported.</li></ul><p class="typography__P-sc-1pmaksm-8 kocNpP">Text transformations are performed according to the following tables:</p><p class="typography__P-sc-1pmaksm-8 kocNpP">Vertex Shaders</p><table class="typography__Table-sc-1pmaksm-17 bnjLCb"><thead><tr><th class="typography__TableHeaderCell-sc-1pmaksm-18 dFYdBi">3.00 ES</th><th class="typography__TableHeaderCell-sc-1pmaksm-18 dFYdBi">1.00 ES</th><th class="typography__TableHeaderCell-sc-1pmaksm-18 dFYdBi">Comment</th></tr></thead><tbody><tr><td class="typography__TableBodyCell-sc-1pmaksm-19 jVcpav"><code class="typography__InlineCode-sc-1pmaksm-12 iEykyL language-text">in</code></td><td class="typography__TableBodyCell-sc-1pmaksm-19 jVcpav"><code class="typography__InlineCode-sc-1pmaksm-12 iEykyL language-text">attribute</code></td><td class="typography__TableBodyCell-sc-1pmaksm-19 jVcpav"></td></tr><tr><td class="typography__TableBodyCell-sc-1pmaksm-19 jVcpav"><code class="typography__InlineCode-sc-1pmaksm-12 iEykyL language-text">out</code></td><td class="typography__TableBodyCell-sc-1pmaksm-19 jVcpav"><code class="typography__InlineCode-sc-1pmaksm-12 iEykyL language-text">varying</code></td><td class="typography__TableBodyCell-sc-1pmaksm-19 jVcpav"></td></tr></tbody></table><p class="typography__P-sc-1pmaksm-8 kocNpP">Fragment Shaders</p><table class="typography__Table-sc-1pmaksm-17 bnjLCb"><thead><tr><th class="typography__TableHeaderCell-sc-1pmaksm-18 dFYdBi">3.00 ES</th><th class="typography__TableHeaderCell-sc-1pmaksm-18 dFYdBi">1.00 ES</th><th class="typography__TableHeaderCell-sc-1pmaksm-18 dFYdBi">Comment</th></tr></thead><tbody><tr><td class="typography__TableBodyCell-sc-1pmaksm-19 jVcpav"><code class="typography__InlineCode-sc-1pmaksm-12 iEykyL language-text">in</code></td><td class="typography__TableBodyCell-sc-1pmaksm-19 jVcpav"><code class="typography__InlineCode-sc-1pmaksm-12 iEykyL language-text">varying</code></td><td class="typography__TableBodyCell-sc-1pmaksm-19 jVcpav"></td></tr><tr><td class="typography__TableBodyCell-sc-1pmaksm-19 jVcpav"><code class="typography__InlineCode-sc-1pmaksm-12 iEykyL language-text">out vec4 &lt;varName&gt;</code></td><td class="typography__TableBodyCell-sc-1pmaksm-19 jVcpav"><code class="typography__InlineCode-sc-1pmaksm-12 iEykyL language-text">gl_FragColor</code></td><td class="typography__TableBodyCell-sc-1pmaksm-19 jVcpav"><code class="typography__InlineCode-sc-1pmaksm-12 iEykyL language-text">&lt;varName&gt;</code> declaration is removed and usage in the code are replaced with <code class="typography__InlineCode-sc-1pmaksm-12 iEykyL language-text">gl_FragColor</code></td></tr><tr><td class="typography__TableBodyCell-sc-1pmaksm-19 jVcpav"><code class="typography__InlineCode-sc-1pmaksm-12 iEykyL language-text">texture</code></td><td class="typography__TableBodyCell-sc-1pmaksm-19 jVcpav"><code class="typography__InlineCode-sc-1pmaksm-12 iEykyL language-text">texture2D</code></td><td class="typography__TableBodyCell-sc-1pmaksm-19 jVcpav"><code class="typography__InlineCode-sc-1pmaksm-12 iEykyL language-text">texture</code> will be replaced with <code class="typography__InlineCode-sc-1pmaksm-12 iEykyL language-text">texture2D</code> to ensure 1.00 code is correct. See note on <code class="typography__InlineCode-sc-1pmaksm-12 iEykyL language-text">textureCube</code> below.</td></tr><tr><td class="typography__TableBodyCell-sc-1pmaksm-19 jVcpav"><code class="typography__InlineCode-sc-1pmaksm-12 iEykyL language-text">textureCube</code> <!-- -->*</td><td class="typography__TableBodyCell-sc-1pmaksm-19 jVcpav"><code class="typography__InlineCode-sc-1pmaksm-12 iEykyL language-text">textureCube</code></td><td class="typography__TableBodyCell-sc-1pmaksm-19 jVcpav"><code class="typography__InlineCode-sc-1pmaksm-12 iEykyL language-text">textureCube</code> is not valid 3.00 syntax, but must be used to ensure 1.00 code is correct, because <code class="typography__InlineCode-sc-1pmaksm-12 iEykyL language-text">texture</code> will be substituted with <code class="typography__InlineCode-sc-1pmaksm-12 iEykyL language-text">texture2D</code> when transpiled to 100. Also <code class="typography__InlineCode-sc-1pmaksm-12 iEykyL language-text">textureCube</code> will be replaced with correct <code class="typography__InlineCode-sc-1pmaksm-12 iEykyL language-text">texture</code> syntax when transpiled to 300.</td></tr></tbody></table></div></div></div></div></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/modules/shadertools/docs/api-reference/assemble-shaders";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-98590654dd326ddfac23.js"],"app":["/app-ee2e44ed3aba76c7f5db.js"],"component---node-modules-gatsby-theme-ocular-src-react-templates-documentation-jsx":["/component---node-modules-gatsby-theme-ocular-src-react-templates-documentation-jsx-73bab6605a023601ea84.js"],"component---node-modules-gatsby-theme-ocular-src-react-templates-examples-jsx":["/component---node-modules-gatsby-theme-ocular-src-react-templates-examples-jsx-46bef8c193f37ad2d03d.js"],"component---node-modules-gatsby-theme-ocular-src-react-templates-search-jsx":["/component---node-modules-gatsby-theme-ocular-src-react-templates-search-jsx-f19a60e8058e40a28769.js"],"component---templates-api-example-animation-jsx":["/component---templates-api-example-animation-jsx-82cb7755b2bbf9219874.js"],"component---templates-api-example-cubemap-jsx":["/component---templates-api-example-cubemap-jsx-1bb122a211667e8332d6.js"],"component---templates-api-example-program-management-jsx":["/component---templates-api-example-program-management-jsx-a1ee16b959ceb326f770.js"],"component---templates-api-example-texture-3-d-jsx":["/component---templates-api-example-texture-3-d-jsx-daa92d3c30a524a96d11.js"],"component---templates-getting-started-example-external-context-jsx":["/component---templates-getting-started-example-external-context-jsx-1fe08b4d1b80c9a9b2b1.js"],"component---templates-getting-started-example-hello-cube-jsx":["/component---templates-getting-started-example-hello-cube-jsx-ca83a37b5db4bae7f957.js"],"component---templates-getting-started-example-hello-instancing-high-jsx":["/component---templates-getting-started-example-hello-instancing-high-jsx-f74e38f73d2d262b8c53.js"],"component---templates-getting-started-example-hello-instancing-low-jsx":["/component---templates-getting-started-example-hello-instancing-low-jsx-c4cf05fd12fb91588db7.js"],"component---templates-getting-started-example-hello-instancing-mid-jsx":["/component---templates-getting-started-example-hello-instancing-mid-jsx-817340a3050161ffa838.js"],"component---templates-getting-started-example-hello-triangle-jsx":["/component---templates-getting-started-example-hello-triangle-jsx-13e87935032233c508e6.js"],"component---templates-getting-started-example-instanced-transform-jsx":["/component---templates-getting-started-example-instanced-transform-jsx-809a75f2dd25bc5a2fed.js"],"component---templates-getting-started-example-lighting-jsx":["/component---templates-getting-started-example-lighting-jsx-fda04ce4c4275bd1e6eb.js"],"component---templates-getting-started-example-shader-hooks-jsx":["/component---templates-getting-started-example-shader-hooks-jsx-2737d66af87d1d70ad18.js"],"component---templates-getting-started-example-shader-modules-jsx":["/component---templates-getting-started-example-shader-modules-jsx-1988f6bb620b6d32ad36.js"],"component---templates-getting-started-example-shader-modules-low-jsx":["/component---templates-getting-started-example-shader-modules-low-jsx-1b04a385a1482c70302c.js"],"component---templates-getting-started-example-transform-feedback-jsx":["/component---templates-getting-started-example-transform-feedback-jsx-b19ccfe34bd73473e9ed.js"],"component---templates-index-jsx":["/component---templates-index-jsx-968fc96fe41795061b27.js"],"component---templates-performance-example-stress-test-jsx":["/component---templates-performance-example-stress-test-jsx-0c76b5f6fae9ba383577.js"],"component---templates-showcase-example-dof-jsx":["/component---templates-showcase-example-dof-jsx-85c2635785932f68b0e8.js"],"component---templates-showcase-example-geospatial-jsx":["/component---templates-showcase-example-geospatial-jsx-0bf8151880b4390433a9.js"],"component---templates-showcase-example-gltf-jsx":["/component---templates-showcase-example-gltf-jsx-5773a04d7a078518923a.js"],"component---templates-showcase-example-instancing-jsx":["/component---templates-showcase-example-instancing-jsx-835fe547bb44d7b5cad7.js"],"component---templates-showcase-example-persistence-jsx":["/component---templates-showcase-example-persistence-jsx-94da529f81435fba865e.js"],"component---templates-showcase-example-wandering-jsx":["/component---templates-showcase-example-wandering-jsx-60ae40a697e89e9ad06f.js"]};/*]]>*/</script><script src="/polyfill-98590654dd326ddfac23.js" nomodule=""></script><script src="/component---node-modules-gatsby-theme-ocular-src-react-templates-documentation-jsx-73bab6605a023601ea84.js" async=""></script><script src="/app-ee2e44ed3aba76c7f5db.js" async=""></script><script src="/framework-ea8763a7f7b1250eb736.js" async=""></script><script src="/webpack-runtime-87611aef1024319f882c.js" async=""></script></body></html>