(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{cFqI:function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return w}));var i=n("dI71"),a=n("q1tI"),r=n.n(a),o=n("z0FI"),s=n("peSK"),l=function(){function t(t){this.startIndex=-1,this.endIndex=-1,this.factor=0,this.times=[],this.values=[],this._lastTime=-1,this.setKeyFrames(t),this.setTime(0)}var e=t.prototype;return e.setKeyFrames=function(t){var e=t.length;this.times.length=e,this.values.length=e;for(var n=0;n<e;++n)this.times[n]=t[n][0],this.values[n]=t[n][1];this._calculateKeys(this._lastTime)},e.setTime=function(t){(t=Math.max(0,t))!==this._lastTime&&(this._calculateKeys(t),this._lastTime=t)},e.getStartTime=function(){return this.times[this.startIndex]},e.getEndTime=function(){return this.times[this.endIndex]},e.getStartData=function(){return this.values[this.startIndex]},e.getEndData=function(){return this.values[this.endIndex]},e._calculateKeys=function(t){var e=0,n=this.times.length;for(e=0;e<n-2&&!(this.times[e+1]>t);++e);this.startIndex=e,this.endIndex=e+1;var i=this.times[this.startIndex],a=this.times[this.endIndex];this.factor=Math.min(Math.max(0,(t-i)/(a-i)),1)},t}(),u=n("1MEA"),m=n("yIe6"),c=n("ebS/"),h=n("tdDb"),d=n("K3wf"),f=n("kh/P"),v=n("yeNo"),p=n("u/XE");function y(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return g(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0;return function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function g(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var b=Object(p.a)(),I=function(t){function e(e){var n,i=e.device,a=e.aspect,r=e.animationLoop;n=t.call(this)||this;var o=document.getElementById("play"),c=document.getElementById("pause");n.timeSlider=document.getElementById("time"),o&&(o.addEventListener("click",(function(){return n.timeline.play()})),c.addEventListener("click",(function(){return n.timeline.pause()})),n.timeSlider.addEventListener("input",(function(t){return n.timeline.setTime(parseFloat(t.target.value))})));var h=[[2,-2,0],[2,2,0],[-2,2,0],[-2,-2,0]],p=[[b(),b(),b()],[b(),b(),b()],[b(),b(),b()],[b(),b(),b()]],y=[[1,0,0],[0,1,0],[0,0,1],[1,1,0]];n.timeline=new s.a,r.attachTimeline(n.timeline),n.timeline.play();var g=[n.timeline.addChannel({delay:2e3,rate:.5,duration:8e3,repeat:2}),n.timeline.addChannel({delay:1e4,rate:.2,duration:2e4,repeat:1}),n.timeline.addChannel({delay:7e3,rate:1,duration:4e3,repeat:8}),n.timeline.addChannel({delay:0,rate:.8,duration:5e3,repeat:Number.POSITIVE_INFINITY})],I=[[0,0],[1e3,2*Math.PI],[2e3,Math.PI],[3e3,2*Math.PI],[4e3,0]],w=[new l(I),new l(I),new l(I),new l(I)];n.cubes=new Array(4);for(var T=0;T<4;++T)n.timeline.attachAnimation(w[T],g[T]),n.cubes[T]={translation:h[T],rotation:p[T],keyFrames:w[T],model:new u.a(i,{vs:"attribute vec3 positions;\nattribute vec3 normals;\n\nuniform vec3 uColor;\nuniform mat4 uModel;\nuniform mat4 uView;\nuniform mat4 uProjection;\n\nvarying vec3 color;\n\nvoid main(void) {\n  vec3 normal = vec3(uModel * vec4(normals, 0.0));\n\n  // Set up data for modules\n  color = uColor;\n  project_setNormal(normal);\n  gl_Position = uProjection * uView * uModel * vec4(positions, 1.0);\n}\n",fs:"precision highp float;\n\nvarying vec3 color;\n\nvoid main(void) {\n  gl_FragColor = vec4(color, 1.);\n  gl_FragColor = dirlight_filterColor(gl_FragColor);\n}\n",modules:[d.a],geometry:new m.a,parameters:{id:"hack-to-prevent-pipeline-sharing-"+T,depthWriteEnabled:!0,depthCompare:"less-equal"},uniforms:{uProjection:(new f.a).perspective({fov:Object(v.e)(60),aspect:a,near:1,far:20}),uView:(new f.a).lookAt({center:[0,0,0],eye:[0,0,-8]}),uColor:y[T]}})};return n}Object(i.a)(e,t);var n=e.prototype;return n.onFinalize=function(){for(var t,e=y(this.cubes);!(t=e()).done;){t.value.model.destroy()}},n.onRender=function(t){var e=t.device;this.timeSlider&&(this.timeSlider.value=this.timeline.getTime());var n=new f.a;Object(h.q)(e,{color:[0,0,0,1],depth:!0});for(var i,a=y(this.cubes);!(i=a()).done;){var r=i.value,o=r.keyFrames.getStartData(),s=r.keyFrames.getEndData(),l=o+r.keyFrames.factor*(s-o),u=r.rotation[0]+l,m=r.rotation[1]+l,c=r.rotation[2];n.identity().translate(r.translation).rotateXYZ([u,m,c]),r.model.setUniforms({uModel:n}),r.model.draw()}},e}(c.a);I.info='\nKey frame animation based on multiple hierarchical timelines.\n<button id="play">Play</button>\n<button id="pause">Pause</button><BR>\nTime: <input type="range" id="time" min="0" max="30000" step="1"><BR>\n',"undefined"==typeof window||window.website||c.a.run(I);var w=function(t){function e(){return t.apply(this,arguments)||this}return Object(i.a)(e,t),e.prototype.render=function(){return r.a.createElement(o.a,{AnimationLoop:I,exampleConfig:this.props.pageContext.exampleConfig})},e}(r.a.Component)},peSK:function(t,e,n){"use strict";function i(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return a(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0;return function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}n.d(e,"a",(function(){return s}));var r=1,o=1,s=function(){function t(){this.time=0,this.channels=new Map,this.animations=new Map,this.playing=!1,this.lastEngineTime=-1}var e=t.prototype;return e.addChannel=function(t){var e=t.delay,n=void 0===e?0:e,i=t.duration,a=void 0===i?Number.POSITIVE_INFINITY:i,o=t.rate,s=void 0===o?1:o,l=t.repeat,u=r++,m={time:0,delay:n,duration:a,rate:s,repeat:void 0===l?1:l};return this._setChannelTime(m,this.time),this.channels.set(u,m),u},e.removeChannel=function(t){this.channels.delete(t);for(var e,n=i(this.animations);!(e=n()).done;){var a=e.value,r=a[0];a[1].channel===t&&this.detachAnimation(r)}},e.isFinished=function(t){var e=this.channels.get(t);return void 0!==e&&this.time>=e.delay+e.duration*e.repeat},e.getTime=function(t){if(void 0===t)return this.time;var e=this.channels.get(t);return void 0===e?-1:e.time},e.setTime=function(t){this.time=Math.max(0,t);for(var e,n=i(this.channels.values());!(e=n()).done;){var a=e.value;this._setChannelTime(a,this.time)}for(var r,o=i(this.animations.values());!(r=o()).done;){var s=r.value,l=s.animation,u=s.channel;l.setTime(this.getTime(u))}},e.play=function(){this.playing=!0},e.pause=function(){this.playing=!1,this.lastEngineTime=-1},e.reset=function(){this.setTime(0)},e.attachAnimation=function(t,e){var n=o++;return this.animations.set(n,{animation:t,channel:e}),t.setTime(this.getTime(e)),n},e.detachAnimation=function(t){this.animations.delete(t)},e.update=function(t){this.playing&&(-1===this.lastEngineTime&&(this.lastEngineTime=t),this.setTime(this.time+(t-this.lastEngineTime)),this.lastEngineTime=t)},e._setChannelTime=function(t,e){var n=e-t.delay;n>=t.duration*t.repeat?t.time=t.duration*t.rate:(t.time=Math.max(0,n)%t.duration,t.time*=t.rate)},t}()},"u/XE":function(t,e,n){"use strict";function i(){var t=1,e=1;return function(){return t=Math.sin(17.23*e),e=Math.cos(27.92*t),(n=1432.71*Math.abs(t*e))-Math.floor(n);var n}}n.d(e,"a",(function(){return i}));i()}}]);